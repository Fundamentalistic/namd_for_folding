+--------------------------------------------------------------------+
|                                                                    |
|                     NAMD 2.1b1 Release Notes                       |
|                                                                    |
+--------------------------------------------------------------------+

This file includes directions for compiling and running NAMD,
a list of know deficiencies, and advice for reporting bugs.

----------------------------------------------------------------------

Compiling NAMD

You must first download and install NAMD's communications library,
Charm++/Converse 5.0, from http://charm.cs.uiuc.edu/.  The following
table shows the version needed for each NAMD architecture.  It is
important that the same compiler is used for both Charm++ and NAMD.

    NAMD Name      Description                   Charm Version
   ----------     ---------------------------   ---------------
    KCC-i486       Linux with KCC 3.3 compiler   net-linux-kcc
    g++-i486       Linux with GNU compiler       net-linux
    Origin2000-MPI SGI Origin 2000 with MPI      mpi-origin
    Origin2000     SGI Origin 2000 w/o MPI       origin2000
    alpha          Tru64 Unix w/ DEC compiler    net-axp-cc
  * g++-alpha      Tru64 Unix w/ GNU compiler    net-axp
    T3E            SGI/Cray T3E                  t3e
    Solaris        Solaris 2.6 or later          net-sol-cc
  * HPUX           HP-UX 10.0 or later with CC   net-hp-cc
  * RED            ASCI Red                      paragon-red
  * SP3            IBM SP Series                 sp3
  * exemplar       Convex Exemplar               mpi-exemplar

  * These architectures may fail to build or be unstable.

Edit Make.charm to point to the directory where Charm++ is installed.

Now you can type "./config ARCH" where ARCH is a ARCH architecture
name listed above (or as a file suffix in the arch directory).  This
will create a build directory for that architecture.  If you wish to
create this directory elsewhere use "./config DIR/ARCH", replacing
DIR with the location the build directory should be created.

Now "cd" to your build directory and type make.  The namd2 binary as
well as the flipdcd and flipbinpdb utilities will be created.  A link
to conv-host (see below) will be created as appropriate.

If you have trouble building NAMD your compiler may be different from
ours.  The architecture-specific makefiles in the arch directory use
several options to elicit similar behavior on all platforms.  Your
compiler may conform to an earlier C++ specification than NAMD uses.
You compiler may also enforce a later C++ rule than NAMD follows.
You may ignore repeated warnings about new and delete matching.

You may edit Makefile to enable or disable DPMTA and DPME.  You may
edit arch/Makearch.ARCH to enable or disable linking with Tcl and FFTW.
(DPMTA, DPME, and Tcl are included in the release binaries, FFTW is not.)

----------------------------------------------------------------------

Running NAMD

-- Workstation Networks --

Workstation networks require two files, the namd2 executable and the
conv-host program.  The conv-host program starts namd2 on the desired
hosts, and handles console I/O for the node programs.

To specify what machines namd2 will run on, the user creates a file
called "nodelist".  Below is an example nodelist file:

group main
 host brutus
 host romeo

The "group main" line defines the default machine list.  Hosts brutus
and romeo are the two machines on which to run the simulation.  Note
that conv-host may run on one of those machines, or conv-host may run
on a third machine.  The "rsh" command ("remsh" on HPUX) is used to
start namd2 on each of the nodes specified in the nodelist file.  If
NAMD fails without printing any output, check to make sure that "rsh"
works on your machine, by seeing if "rsh hostname ls" works for each
host in the nodelist.

A number of parameters may be passed to conv-host.  The most important
is the "+pX" option, where X specifies the number of processors.  If X
is less than the number of hosts in the nodelist, machines are
selected from top to bottom.  If X is greater than the number of
hosts, conv-host will start multiple processes on the machines,
starting from the top.  To run multiple processes on members of a SMP
workstation cluster, you may either just use the +p option to go
through the list the right number of times, or list each machine
several times, once for each processor.

Once the nodelist file is set up, and you have your configuration file
prepared (alanin.conf, in this example), run NAMD as follows:

conv-host +pX namd2 alanin.conf

Due to their processor design, Intel-based machines running the linux
version produce binary files (restart and DCD files) with a different
format.  The "flipbinpdb" and the "flipdcd" programs will convert
files back and forth from Intel format to the non-Intel format.

-- T3E --

The T3E version has been tested on the Pittsburgh Supercomputer Center
T3E.  To run on X processors, use the mpprun command:

mpprun -n X namd2 alanin.conf

-- Origin 2000 --

For small numbers of processors (1-8) use the non-MPI version of namd2.
To run on X processors call the binary directly with the +p option:

namd2 +pX alanin.conf

For better performance on larger numbers of processors we recommend
that you use the MPI version of NAMD.  To run this version, you must
have MPI installed.  Furthermore, you must set two environment
variables to tell MPI how to allocate certain internal buffers.  Put
the following commands in your .cshrc/.profile file, or in your job
file if you are running under a queuing system:

setenv MPI_REQUEST_MAX 10240
setenv MPI_TYPE_MAX 10240

Then run NAMD with the following command:

mpirun -np X namd2 alanin.conf

----------------------------------------------------------------------

Known Deficiencies

- PME does not parallelize well.

- NAMD requires X-PLOR or CHARMM to produce the .psf structure input
files.  If you don't have one of these, you probably can't use NAMD yet.

----------------------------------------------------------------------

Problems?

For problems or questions, send email to namd@ks.uiuc.edu.  If you
think you have found a bug, please include what machine you are
running on, and, if possible, a dump of the program output and/or a
copy of your input files.  Your feedback will help us improve NAMD.

----------------------------------------------------------------------

